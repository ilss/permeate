<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>西普教育网络安全攻防赛</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

  <!--https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="format-detection" content="telephone=no">

  <!-- force webkit on 360 -->
  <meta name="renderer" content="webkit" />
  <meta name="force-rendering" content="webkit" />
  <!-- force edge on IE -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="msapplication-tap-highlight" content="no">

  <!-- force full screen on some browser -->
  <meta name="full-screen" content="yes" />
  <meta name="x5-fullscreen" content="true" />
  <meta name="360-fullscreen" content="true" />

  <!-- force screen orientation on some browser -->
  <!-- <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-orientation" content="portrait"> -->

  <meta name="browsermode" content="application">
  <meta name="x5-page-mode" content="app">

  <style type="text/css">
    html {
      -ms-touch-action: none;
    }

    body,
    canvas,
    div {
      margin: 0;
      padding: 0;
      outline: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      -khtml-user-select: none;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    }

    body {
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      padding: 0;
      border: 0;
      margin: 0;
      cursor: default;
      color: #888;
      background: url(res/temp_bg_mask.jpg) center top no-repeat;
      text-align: center;
      font-family: Helvetica, Verdana, Arial, sans-serif;
      background-size: cover;
    }

    #actionEffect {
      width: 1072px;
      height: 866px;
      margin: 100px auto auto;
      bottom: 0;
    }

    #permeateMainCanvas {
      position: absolute;
      left: 50%;
      display: none;
      margin-left: -650px;
      z-index: 0;
      top: 0;
      margin-top: 114px;
    }

    @media (max-width:1366px) {
      #gameCanvas {
        width: 749px;
        height: 660px;
      }
    }
  </style>
</head>

<body>
  <div id="actionEffect">
    <canvas id="permeateMainCanvas" width="1300" height="860"></canvas>
    <button id="add_block_btn" style="width: 300px; height: 60px; margin: 0px auto 0px -300px; z-index: 9; position: absolute; bottom: 0;">添加大区</button>
    <button id="team_attack_btn" name="aaa" style="width: 300px; height: 60px; margin: 0px auto 0px 50px; z-index: 9; position: absolute; bottom: 0;">攻击server</button>
  </div>
  <!-- <script src="res/loading.js"></script> -->
  <script src="frameworks/cocos2d-html5/CCBoot.js"></script>
  <script cocos src="main.js"></script>
  <script>
    var add_block_array = [{
      id: '000111',
      name: '管理区',
      server: [
        {
          id: 's00001'
        },
        {
          id: 's00002'
        },
        {
          id: 's00003'
        },
        {
          id: 's00004'
        },
        {
          id: 's00005'
        },
        {
          id: 's00006'
        }
      ]
    },
    {
      id: '000222',
      name: '管理区',
      server: [
        {
          id: 's00001'
        },
        {
          id: 's00002'
        },
        {
          id: 's00003'
        },
        {
          id: 's00004'
        },
        {
          id: 's00005'
        }
      ]
    },
    {
      id: '000555',
      name: '管理区',
      server: [
        {
          id: 's00001'
        },
        {
          id: 's00002'
        },
        {
          id: 's00003'
        },
        {
          id: 's00004'
        }
      ]
    }];

    var attack_server_data = [
      // { id: 't00001', name: 't00001', icon: '', attack_block_id: '000111', attack_server_id: 's00001' },
      // { id: 't00002', name: 't00002', icon: '', attack_block_id: '000111', attack_server_id: 's00002' },
      // { id: 't00003', name: 't00003', icon: '', attack_block_id: '000111', attack_server_id: 's00003' },
      // { id: 't00001', name: 't00001', icon: '', attack_block_id: '000001', attack_server_id: 's00003' },
      { id: 't00002', name: 't00002', icon: '', attack_block_id: '000001', attack_server_id: 's00002' },
      { id: 't00002', name: 't00002', icon: '', attack_block_id: '000001', attack_server_id: 's00002', attack_completed: true, coin: 25 },
    ];

    var index_attack_server_data = 0;
    var btn = document.querySelector("#add_block_btn");
    var atk_btn = document.querySelector("#team_attack_btn");

    atk_btn.onclick = function () {
      var _data = attack_server_data[index_attack_server_data];
      TEAM_ATTACK_SERVER(_data);
      index_attack_server_data = index_attack_server_data < attack_server_data.length - 1 ? index_attack_server_data + 1 : 0;
    }

    var add_block_index = 0;
    btn.onclick = function () {
      PERMEATE_ADD_BLOCK(add_block_array[add_block_index]);
      add_block_index = add_block_index < add_block_array.length - 1 ? add_block_index + 1 : 0;
    }
  </script>

</body>

</html>